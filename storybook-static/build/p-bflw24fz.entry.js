import{r as t,c as s,g as e,h as i,d as h}from"./p-1486497b.js";class n{static logMessage(t){console.log(t)}static debugMessage(t){}static errorMessage(t){console.error(t)}static infoMessage(t){console.info(t)}}class r{constructor(t,s,e,i){this.speakerStarted=t,this.speakerFinished=s,this.speakerPaused=e,this.speakerFailed=i,this.sprachSynthese=window.speechSynthesis,n.debugMessage("####constructor called")}stimmeInitialisieren(t){n.debugMessage("Text:"+t);const s=new SpeechSynthesisUtterance(t);s.onend=()=>{this.speakerFinished.emit(),n.debugMessage("Vorlesen beendet")},s.onstart=()=>{this.speakerStarted.emit(),n.debugMessage("Vorlesen gestartet")},s.onpause=()=>{this.speakerPaused.emit(),n.debugMessage("Pause mit Vorlesen")},s.onerror=()=>{this.speakerFailed.emit(),n.errorMessage("Fehler beim Vorlesen")};for(var e=this.sprachSynthese.getVoices(),i=0;i<e.length;i++)if(e[i].default){n.debugMessage("Voice:"+e[i].name+e[i].lang),s.voice=e[i];break}return s.pitch=1,s.rate=1,s.volume=1,s}textVorlesen(t){if(this.sprachSynthese.speaking)n.debugMessage("Spricht bereits");else if(t){const s=this.stimmeInitialisieren(t);this.sprachSynthese.speak(s)}}}const a=class{constructor(e){t(this,e),this.speakerStarted=s(this,"speakerStarted",7),this.speakerFinished=s(this,"speakerFinished",7),this.speakerPaused=s(this,"speakerPaused",7),this.speakerFailed=s(this,"speakerFailed",7)}connectedCallback(){this.ident||(this.ident="honey-speech1"),this.titletext||(this.titletext="Vorlesen"),this.alttext||(this.alttext="Symbol eines sprechenden Lautsprechers"),this.iconheight||(this.iconheight="36"),this.iconwidth||(this.iconwidth="36"),this.iconsrc||(this.iconsrc=e("./assets/img/Speaker_Icon.svg"))}componentDidLoad(){this.iconbackground&&(this.htmlElement.shadowRoot.getElementById(this.ident+"-input").style.backgroundColor=this.iconbackground)}getTexte(){if(this.textids){const t=this.textids.split(","),s=[];return t.forEach(t=>{const e=document.getElementById(t);e?s.push(e.innerText):n.errorMessage("text to speak not found of DOM element with id "+t)}),s}return["Kein Text vorhanden, daher keine Ausgabe m√∂glich."]}handleClick(){const t=new r(this.speakerStarted,this.speakerFinished,this.speakerPaused,this.speakerFailed),s=this.getTexte().join("\n");t.textVorlesen(s)}render(){return i("input",{type:"image",id:this.ident+"-input",name:this.ident+"-input",title:this.titletext,alt:this.alttext,src:this.iconsrc,height:this.iconheight,width:this.iconwidth,class:"buttonimage"})}static get assetsDirs(){return["assets"]}get htmlElement(){return h(this)}static get style(){return""}};export{a as honey_speech};